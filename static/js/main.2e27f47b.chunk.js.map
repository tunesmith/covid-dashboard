{"version":3,"sources":["App.tsx","reportWebVitals.js","index.js"],"names":["rtInfection","id","data","metroData","filter","el","infectionRate","map","x","date","y","doublingTime","rt","period","Math","log","casesPerDeath","cases","deaths","exactChain","chain","ceil","doublingLow","doublingHigh","deathLow","deathHigh","testPositivityData","multnomahData","testPositivityRatio","washingtonData","caseCountData","caseDensity","icuData","icuCapacityRatio","targetPercent","vacRate","eff","rTarget","vaccineData","vaccinationsInitiatedRatio","undefined","vaccinationsCompletedRatio","vaccines","targetLower","targetUpper","lower","max","upper","sampleData","MyResponsiveSankey","margin","top","right","bottom","left","align","colors","scheme","nodeOpacity","nodeThickness","nodeInnerPadding","nodeSpacing","nodeBorderWidth","nodeBorderColor","from","modifiers","linkOpacity","linkHoverOthersOpacity","enableLinkGradient","labelPosition","labelPadding","labelTextColor","isInteractive","TestPositivityLines","markers","axis","value","lineStyle","stroke","strokeWidth","legendPosition","xScale","format","type","useUTC","xFormat","yScale","min","stacked","reverse","yFormat","curve","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","legend","legendOffset","axisLeft","enablePoints","pointSize","pointColor","theme","pointBorderWidth","pointBorderColor","pointLabelYOffset","enableSlices","sliceTooltip","slice","style","background","padding","border","points","xFormatted","point","color","serieColor","serieId","yFormatted","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemDirection","itemWidth","itemHeight","itemOpacity","symbolSize","symbolShape","symbolBorderColor","effects","on","itemBackground","CaseDensityLines","MyInfectionLine","AreaLayer","series","areaGenerator","innerHeight","area","d","y0","y1","curveMonotoneX","defs","lineWidth","spacing","rotation","fill","fillOpacity","VaccinationLines","layers","IcuLines","tickValues","signal","signals","Map","honoluluData","clarkData","larimerData","denverData","badgeData","MyResponsiveRadar","keys","indexBy","maxValue","borderWidth","borderColor","gridLevels","gridShape","gridLabel","blah","gridLabelOffset","enableDots","dotSize","dotColor","dotBorderWidth","dotBorderColor","enableDotLabel","dotLabel","index","realValue","parseFloat","toString","toFixed","realPercent","dotLabelYOffset","get","key","blendMode","animate","App","className","width","height","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2e27f47b.chunk.js","sourcesContent":["import './App.css';\nimport {ResponsiveSankey} from \"@nivo/sankey\";\nimport {ResponsiveLine} from \"@nivo/line\";\nimport {ResponsiveRadar} from '@nivo/radar'\nimport * as metroData from './data/metro.json';\nimport * as multnomahData from './data/multnomah.json';\nimport * as washingtonData from './data/washington.json';\nimport * as clarkData from './data/clark.json';\nimport * as honoluluData from './data/honolulu.json';\nimport * as larimerData from './data/larimer.json';\nimport * as denverData from './data/denver.json';\nimport { Defs } from '@nivo/core'\nimport { area, curveMonotoneX } from 'd3-shape'\n\nconst rtInfection = [{\n    id: 'Metro Area',\n    data: metroData.metricsTimeseries.filter(el => el.infectionRate !== null).map(el => {\n        return {\n            x: el.date,\n            y: el.infectionRate\n        }\n    })\n}];\n\nconst doublingTime = (rt: number, period: number): number => {\n    return period * ( Math.log(2) / Math.log(rt) )\n}\n\nconst casesPerDeath = metroData.actuals.cases / metroData.actuals.deaths;\nconst exactChain = Math.log(1 - (casesPerDeath * (1 - metroData.metrics.infectionRate))) / Math.log(metroData.metrics.infectionRate);\nconst chain = Math.ceil(exactChain);\nconst doublingLow = Math.ceil(doublingTime(metroData.metrics.infectionRate, 5));\nconst doublingHigh = Math.ceil(doublingTime(metroData.metrics.infectionRate, 16));\nconst deathLow = Math.ceil(exactChain * 5);\nconst deathHigh = Math.ceil(exactChain * 16);\n\nconst testPositivityData = [{\n    id: 'Multnomah County',\n    data: multnomahData.metricsTimeseries.filter(el => el.testPositivityRatio !== null).map(el => {\n        return {\n            x: el.date,\n            y: el.testPositivityRatio\n        }\n    })\n},\n    {\n        id: 'Washington County',\n        data: washingtonData.metricsTimeseries.filter(el => el.testPositivityRatio !== null && el.testPositivityRatio >= 0).map(el => {\n            return {\n                x: el.date,\n                y: el.testPositivityRatio\n            }\n        })\n    }];\n\n// console.log(testPositivityData);\n\nconst caseCountData = [{\n    id: 'Metro Area',\n    data: metroData.metricsTimeseries.filter(el => el.caseDensity !== null).map(el => {\n        return {\n            x: el.date,\n            y: el.caseDensity\n        }\n    })\n}]\n\nconst icuData = [{\n    id: 'Metro Area',\n    data: metroData.metricsTimeseries.filter(el => el.icuCapacityRatio !== null).map(el => {\n        return {\n            x: el.date,\n            y: el.icuCapacityRatio\n        }\n    })\n}, {\n\n    id: 'Multnomah County',\n    data: multnomahData.metricsTimeseries.filter(el => el.icuCapacityRatio !== null).map(el => {\n        return {\n            x: el.date,\n            y: el.icuCapacityRatio\n        }\n    })\n},\n    {\n        id: 'Washington County',\n        data: washingtonData.metricsTimeseries.filter(el => el.icuCapacityRatio !== null && el.icuCapacityRatio < 1).map(el => {\n            return {\n                x: el.date,\n                y: el.icuCapacityRatio\n            }\n        })\n    }]\n\n/**\n * Given a current rt, and a target rt (usually 1), and a current vaccination rate and efficacy\n * against infection, calculate what future vaccination rate would move the current rt to rTarget.\n *\n * CDC says that mRNA vaccines are between 26% and 84% effective (90% certainty, 66% estimated)\n * against infection, and there is an additional 40%-60% protection against vaccinated people\n * passing the virus to others, which yields a range of 55.6 - 93.6 effectiveness.\n *\n * @param rt\n * @param vacRate\n * @param eff\n * @param rTarget\n */\nconst targetPercent = (rt: number, vacRate: number, eff: number, rTarget: number): number => {\n    return (1 - (rTarget * (\n        (1 - (vacRate * eff)) /\n            rt))\n    ) / eff\n}\n\nconst vaccineData = [{\n    id: 'PDX Metro - Vaccine #1',\n    data: metroData.metricsTimeseries.filter(el => el.vaccinationsInitiatedRatio !== null && el.vaccinationsInitiatedRatio !== undefined).map(el => {\n        return {\n            x: el.date,\n            y: el.vaccinationsInitiatedRatio\n        }\n    })\n}, {\n    id: 'PDX Metro - Vaccine #2',\n    data: metroData.metricsTimeseries.filter(el => el.vaccinationsCompletedRatio !== null && el.vaccinationsCompletedRatio !== undefined).map(el => {\n        const vaccines = el.vaccinationsCompletedRatio as number;\n        const targetLower: number = el.infectionRate ? targetPercent(el.infectionRate, vaccines, 0.936, 1) : vaccines;\n        const targetUpper: number = el.infectionRate ? targetPercent(el.infectionRate, vaccines, 0.556, 1) : vaccines;\n        return {\n            x: el.date,\n            rt: el.infectionRate,\n            y: el.vaccinationsCompletedRatio,\n            lower: Math.max(targetLower, vaccines),\n            upper: Math.max(targetUpper, vaccines)\n        }\n    })\n}]\n\nconst sampleData = {\n    \"nodes\": [\n        {\n            \"id\": \"Uninfected\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": \"Infected\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": 'Untested',\n            // \"color\": \"#5c5c5c\"\n        },\n        // {\n        //     \"id\": \"Diagnosed\",\n        //     \"color\": \"#f8a8a8\"\n        // },\n        {\n            \"id\": \"Home-tested\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": \"Lab-tested\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": \"Negative\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": \"Positive\",\n            // \"color\": \"#000000\"\n        },\n        // {\n        //     \"id\": \"Positivity Ratio\",\n        //     \"color\": \"#000000\"\n        // }\n    ],\n    \"links\": [\n        {\n            \"source\": \"Uninfected\",\n            \"target\": \"Home-tested\",\n            \"value\": 20\n        },\n        {\n            \"source\": \"Uninfected\",\n            \"target\": \"Lab-tested\",\n            \"value\": 70\n        },\n        {\n            \"source\": \"Uninfected\",\n            \"target\": 'Untested',\n            \"value\": 60\n        },\n        {\n            \"source\": \"Infected\",\n            \"target\": 'Untested',\n            \"value\": 10\n        },\n        // {\n        //     \"source\": \"Infected\",\n        //     \"target\": \"Diagnosed\",\n        //     \"value\": 80\n        // },\n        {\n            // \"source\": \"Diagnosed\",\n            \"source\": \"Infected\",\n            \"target\": \"Home-tested\",\n            \"value\": 10\n        },\n        {\n            // \"source\": \"Diagnosed\",\n            \"source\": \"Infected\",\n            \"target\": \"Lab-tested\",\n            \"value\": 20\n        },\n        {\n            \"source\": \"Lab-tested\",\n            \"target\": \"Negative\",\n            \"value\": 70\n        },\n        {\n            \"source\": \"Lab-tested\",\n            \"target\": \"Positive\",\n            \"value\": 20\n        },\n        // {\n        //     \"source\": \"Negative\",\n        //     \"target\": \"Positivity Ratio\",\n        //     \"value\":50\n        // },\n        // {\n        //     \"source\": \"Positive\",\n        //     \"target\": \"Positivity Ratio\",\n        //     \"value\":20\n        // }\n    ]\n};\n\nconst MyResponsiveSankey = ({data}: any) => (\n    <ResponsiveSankey\n        data={data}\n        margin={{top: 40, right: 50, bottom: 40, left: 50}}\n        align=\"start\"\n        // sort=\"descending\"\n        colors={{scheme: 'category10'}}\n        nodeOpacity={1}\n        nodeThickness={18}\n        nodeInnerPadding={3}\n        nodeSpacing={24}\n        nodeBorderWidth={0}\n        nodeBorderColor={{from: 'color', modifiers: [['darker', 0.8]]}}\n        linkOpacity={0.5}\n        linkHoverOthersOpacity={0.1}\n        enableLinkGradient={true}\n        labelPosition=\"inside\"\n        // labelOrientation=\"vertical\"\n        labelPadding={6}\n        labelTextColor={{from: 'color', modifiers: [['darker', 1]]}}\n        isInteractive={false}\n    />\n)\n\nconst TestPositivityLines = ({data}: any) => (\n    <ResponsiveLine\n        markers={[\n            {\n                axis: 'y',\n                value: 0.05,\n                lineStyle: {stroke: '#b0413e', strokeWidth: 1},\n                // legend: 'y marker at 0',\n                legendPosition: 'bottom-left',\n            },\n        ]}\n        data={data}\n        margin={{top: 50, right: 140, bottom: 50, left: 80}}\n        xScale={{\n            format: \"%Y-%m-%d\",\n            type: \"time\",\n            useUTC: false,\n        }}\n        xFormat=\"time:%Y-%m-%d\"\n        yScale={{type: 'linear', min: 0, max: 'auto', stacked: false, reverse: false}}\n        // yFormat=\" >-.2f\"\n        yFormat=\" >-.1%\"\n        curve=\"linear\"\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            // tickValues: \"every 3 month\",\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            format: \"%Y-%m\",\n            legend: \"Date\",\n            legendOffset: 36,\n            legendPosition: \"middle\"\n        }}\n        axisLeft={{\n            // orient: 'left',\n            format: \">-.0%\",\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'Percent Positive',\n            legendOffset: -45,\n            legendPosition: 'middle'\n        }}\n        enablePoints={false}\n        pointSize={10}\n        pointColor={{theme: 'background'}}\n        pointBorderWidth={2}\n        pointBorderColor={{from: 'serieColor'}}\n        pointLabelYOffset={-12}\n        isInteractive={true}\n        // useMesh={true}\n        enableSlices={\"x\"}\n        sliceTooltip={({slice}) => {\n            return (\n                <div\n                    style={{\n                        background: 'white',\n                        padding: '9px 12px',\n                        border: '1px solid #ccc',\n                    }}\n                >\n                    <div>{slice.points[0].data.xFormatted}</div>\n                    {slice.points.map(point => (\n                        <div\n                            key={point.id}\n                            style={{\n                                color: point.serieColor,\n                                padding: '3px 0',\n                            }}\n                        >\n                            <strong>{point.serieId}</strong> {point.data.yFormatted}\n                        </div>\n                    ))}\n                </div>\n            )\n        }}\n        legends={[\n            {\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 140,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: 'left-to-right',\n                itemWidth: 120,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: 'circle',\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemBackground: 'rgba(0, 0, 0, .03)',\n                            itemOpacity: 1\n                        }\n                    }\n                ]\n            }\n        ]}\n    />\n)\n\nconst CaseDensityLines = ({data}: any) => (\n    <ResponsiveLine\n        markers={[\n            {\n                axis: 'y',\n                value: 10,\n                lineStyle: {stroke: '#b0413e', strokeWidth: 1},\n                // legend: 'y marker at 0',\n                legendPosition: 'bottom-left',\n            },\n        ]}\n        data={data}\n        margin={{top: 50, right: 110, bottom: 50, left: 60}}\n        // xScale={{ format: \"%Y-%m-%dT%H:%M:%S.%L%Z\", type: \"time\" }}\n        xScale={{\n            format: \"%Y-%m-%d\",\n            type: \"time\",\n            useUTC: false,\n        }}\n        xFormat=\"time:%Y-%m-%d\"\n        yScale={{type: 'linear', min: 0, max: 'auto', stacked: false, reverse: false}}\n        // yFormat=\" >-.2f\"\n        curve=\"cardinal\"\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            // tickValues: \"every 3 month\",\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            format: \"%Y-%m\",\n            legend: \"Date\",\n            legendOffset: 36,\n            legendPosition: \"middle\"\n        }}\n        axisLeft={{\n            // orient: 'left',\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'Cases / 100k',\n            legendOffset: -40,\n            legendPosition: 'middle'\n        }}\n        enablePoints={false}\n        pointSize={10}\n        pointColor={{theme: 'background'}}\n        pointBorderWidth={2}\n        pointBorderColor={{from: 'serieColor'}}\n        pointLabelYOffset={-12}\n        isInteractive={true}\n        // useMesh={true}\n        enableSlices={\"x\"}\n        sliceTooltip={({slice}) => {\n            return (\n                <div\n                    style={{\n                        background: 'white',\n                        padding: '9px 12px',\n                        border: '1px solid #ccc',\n                    }}\n                >\n                    <div>{slice.points[0].data.xFormatted}</div>\n                    {slice.points.map(point => (\n                        <div\n                            key={point.id}\n                            style={{\n                                color: point.serieColor,\n                                padding: '3px 0',\n                            }}\n                        >\n                            <strong>{point.serieId}</strong> {point.data.yFormatted}\n                        </div>\n                    ))}\n                </div>\n                    )\n        }}\n        legends={[\n            {\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 100,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: 'left-to-right',\n                itemWidth: 80,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: 'circle',\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemBackground: 'rgba(0, 0, 0, .03)',\n                            itemOpacity: 1\n                        }\n                    }\n                ]\n            }\n        ]}\n    />\n)\n\nconst MyInfectionLine = ({data}: any) => (\n    <ResponsiveLine\n        markers={[\n            {\n                axis: 'y',\n                value: 1,\n                lineStyle: {stroke: '#b0413e', strokeWidth: 1},\n                // legend: 'y marker at 0',\n                legendPosition: 'bottom-left',\n            },\n        ]}\n        data={data}\n        margin={{top: 50, right: 110, bottom: 50, left: 60}}\n        // xScale={{ format: \"%Y-%m-%dT%H:%M:%S.%L%Z\", type: \"time\" }}\n        xScale={{\n            format: \"%Y-%m-%d\",\n            type: \"time\",\n            useUTC: false,\n        }}\n        // xFormat=\"time:%Y-%m-%dT%H:%M:%S.%L%Z\"\n        xFormat=\"time:%Y-%m-%d\"\n        yScale={{type: 'linear', min: 'auto', max: 'auto', stacked: false, reverse: false}}\n        // yFormat=\" >-.2f\"\n        curve=\"cardinal\"\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            // tickValues: \"every 3 month\",\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            format: \"%Y-%m\",\n            legend: \"Date\",\n            legendOffset: 36,\n            legendPosition: \"middle\"\n        }}\n        axisLeft={{\n            // orient: 'left',\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'Rt',\n            legendOffset: -40,\n            legendPosition: 'middle'\n        }}\n        enablePoints={false}\n        pointSize={10}\n        pointColor={{theme: 'background'}}\n        pointBorderWidth={2}\n        pointBorderColor={{from: 'serieColor'}}\n        pointLabelYOffset={-12}\n        isInteractive={true}\n        // useMesh={true}\n        enableSlices={\"x\"}\n        sliceTooltip={({slice}) => {\n            return (\n                <div\n                    style={{\n                        background: 'white',\n                        padding: '9px 12px',\n                        border: '1px solid #ccc',\n                    }}\n                >\n                    <div>{slice.points[0].data.xFormatted}</div>\n                    {slice.points.map(point => (\n                        <div\n                            key={point.id}\n                            style={{\n                                color: point.serieColor,\n                                padding: '3px 0',\n                            }}\n                        >\n                            <strong>{point.serieId}</strong> {point.data.yFormatted}\n                        </div>\n                    ))}\n                </div>\n            )\n        }}\n        legends={[\n            {\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 100,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: 'left-to-right',\n                itemWidth: 80,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: 'circle',\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemBackground: 'rgba(0, 0, 0, .03)',\n                            itemOpacity: 1\n                        }\n                    }\n                ]\n            }\n        ]}\n    />\n)\n\nconst AreaLayer = ({ series, xScale, yScale, innerHeight }: any) => {\n    // console.log(series[0].data);\n    // console.log(series);\n    const areaGenerator = area()\n        .x((d: [any, any]) => {\n            return xScale(d['data' as any].x)\n        })\n        .y0((d: [any, any]) => {\n            const data = d['data' as any];\n            // return yScale(targetPercent(data.rt, data.y, 0.936, 1))\n            // return Math.min(data.y, yScale(targetPercent(data.rt, data.y, 0.936, 1)))\n            return yScale(data.lower);\n        })\n        .y1((d: [any, any]) => {\n            const data = d['data' as any];\n            // return yScale(targetPercent(data.rt, data.y, 0.556, 1)))\n            return yScale(data.upper);\n        })\n        .curve(curveMonotoneX)\n    // const areaGenerator = area()\n    //     .x((d, e) => xScale(d.data.x))\n    //     .y0(d => Math.min(innerHeight, yScale(d.data.y - 40)))\n    //     .y1(d => yScale(d.data.y + 10))\n    //     .curve(curveMonotoneX)\n\n    return (\n        <>\n            <Defs\n                defs={[\n                    {\n                        id: 'pattern',\n                        type: 'patternLines',\n                        background: 'transparent',\n                        color: '#fc9926',\n                        lineWidth: 1,\n                        spacing:5,\n                        rotation: -45,\n                    },\n                ]}\n            />\n            <path\n                d={areaGenerator(series[1].data) || undefined}\n                fill=\"url(#pattern)\"\n                fillOpacity={0.6}\n                stroke=\"#fc9926\"\n                strokeWidth={1.5}\n            />\n        </>\n    )\n}\n\nconst VaccinationLines = ({data}: any) => (\n    <ResponsiveLine\n        data={data}\n        margin={{top: 50, right: 160, bottom: 50, left: 60}}\n        colors={{\"scheme\":\"category10\"}}\n        xScale={{\n            format: \"%Y-%m-%d\",\n            type: \"time\",\n            useUTC: false,\n        }}\n        xFormat=\"time:%Y-%m-%d\"\n        yScale={{type: 'linear', min: 'auto', max: 1, stacked: false, reverse: false}}\n        // yFormat=\" >-.2f\"\n        yFormat=\" >-.1%\"\n        curve=\"cardinal\"\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            // tickValues: \"every 3 month\",\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            format: \"%Y-%m\",\n            legend: \"Date\",\n            legendOffset: 36,\n            legendPosition: \"middle\"\n        }}\n        axisLeft={{\n            // orient: 'left',\n            format: \">-.0%\",\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'Vaccination %',\n            legendOffset: -45,\n            legendPosition: 'middle'\n        }}\n        enablePoints={false}\n        pointSize={10}\n        pointColor={{theme: 'background'}}\n        pointBorderWidth={2}\n        pointBorderColor={{from: 'serieColor'}}\n        pointLabelYOffset={-12}\n        layers={[\n            'grid',\n            'markers',\n            'areas',\n            AreaLayer,\n            'lines',\n            'slices',\n            'axes',\n            'points',\n            'legends',\n        ]}\n        isInteractive={true}\n        // useMesh={true}\n        enableSlices={\"x\"}\n        sliceTooltip={({slice}) => {\n            return (\n                <div\n                    style={{\n                        background: 'white',\n                        padding: '9px 12px',\n                        border: '1px solid #ccc',\n                    }}\n                >\n                    <div>{slice.points[0].data.xFormatted}</div>\n                    {slice.points.map(point => (\n                        <div\n                            key={point.id}\n                            style={{\n                                color: point.serieColor,\n                                padding: '3px 0',\n                            }}\n                        >\n                            <strong>{point.serieId}</strong> {point.data.yFormatted}\n                        </div>\n                    ))}\n                </div>\n            )\n        }}\n        legends={[\n            {\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 100,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: 'left-to-right',\n                itemWidth: 80,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: 'circle',\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemBackground: 'rgba(0, 0, 0, .03)',\n                            itemOpacity: 1\n                        }\n                    }\n                ]\n            }\n        ]}\n    />\n)\n\nconst IcuLines = ({data}: any) => (\n    <ResponsiveLine\n        markers={[\n            {\n                axis: 'y',\n                value: 0.85,\n                lineStyle: {stroke: '#b0413e', strokeWidth: 1},\n                // legend: 'y marker at 0',\n                legendPosition: 'bottom-left',\n            },\n        ]}\n        data={data}\n        margin={{top: 50, right: 140, bottom: 50, left: 80}}\n        xScale={{\n            format: \"%Y-%m-%d\",\n            type: \"time\",\n            useUTC: false,\n        }}\n        xFormat=\"time:%Y-%m-%d\"\n        yScale={{type: 'linear', min: 'auto', max: 1, stacked: false, reverse: false}}\n        // yFormat=\" >-.2f\"\n        yFormat=\" >-.0%\"\n        curve=\"cardinal\"\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            tickValues: \"every 3 month\",\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            format: \"%Y-%m\",\n            legend: \"Date\",\n            legendOffset: 36,\n            legendPosition: \"middle\"\n        }}\n        axisLeft={{\n            // orient: 'left',\n            format: \">-.0%\",\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'ICU Usage',\n            legendOffset: -45,\n            legendPosition: 'middle'\n        }}\n        enablePoints={false}\n        pointSize={10}\n        pointColor={{theme: 'background'}}\n        pointBorderWidth={2}\n        pointBorderColor={{from: 'serieColor'}}\n        pointLabelYOffset={-12}\n        isInteractive={true}\n        // useMesh={true}\n        enableSlices={\"x\"}\n        sliceTooltip={({slice}) => {\n            return (\n                <div\n                    style={{\n                        background: 'white',\n                        padding: '9px 12px',\n                        border: '1px solid #ccc',\n                    }}\n                >\n                    <div>{slice.points[0].data.xFormatted}</div>\n                    {slice.points.map(point => (\n                        <div\n                            key={point.id}\n                            style={{\n                                color: point.serieColor,\n                                padding: '3px 0',\n                            }}\n                        >\n                            <strong>{point.serieId}</strong> {point.data.yFormatted}\n                        </div>\n                    ))}\n                </div>\n            )\n        }}\n        legends={[\n            {\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 140,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: 'left-to-right',\n                itemWidth: 120,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: 'circle',\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemBackground: 'rgba(0, 0, 0, .03)',\n                            itemOpacity: 1\n                        }\n                    }\n                ]\n            }\n        ]}\n    />\n)\n\nconst signal = (data: any): string => {\n    if ((data.infectionRate > 1) || (data.caseDensity > 10) || (data.testPositivityRatio > 0.05) || (data.icuCapacityRatio >= 0.85)) {\n        return 'red';\n    }\n    return 'green';\n}\n\n\nconst signals: Map<string, string> = new Map<string, string>([\n    [\"multnomah\", signal(multnomahData.metrics)],\n    [\"washington\", signal(washingtonData.metrics)],\n    [\"honolulu\", signal(honoluluData.metrics)],\n    [\"clark\", signal(clarkData.metrics)],\n    [\"larimer\", signal(larimerData.metrics)],\n    [\"denver\", signal(denverData.metrics)],\n]);\n\nconst badgeData = [\n    {\n        'signal': 'rt',\n        'multnomah': multnomahData.metrics.infectionRate,\n        'washington': washingtonData.metrics.infectionRate,\n        'honolulu': honoluluData.metrics.infectionRate,\n        'clark': clarkData.metrics.infectionRate,\n        'larimer': larimerData.metrics.infectionRate,\n        'denver': denverData.metrics.infectionRate,\n    },\n    {\n        'signal': 'caseDensity',\n        'multnomah': multnomahData.metrics.caseDensity / 10,\n        'washington': washingtonData.metrics.caseDensity / 10,\n        'honolulu': honoluluData.metrics.caseDensity / 10,\n        'clark': clarkData.metrics.caseDensity / 10,\n        'larimer': larimerData.metrics.caseDensity / 10,\n        'denver': denverData.metrics.caseDensity / 10,\n    },\n    {\n        'signal': 'testPositivity',\n        'multnomah': multnomahData.metrics.testPositivityRatio / 0.05,\n        'washington': washingtonData.metrics.testPositivityRatio / 0.05,\n        'honolulu': honoluluData.metrics.testPositivityRatio / 0.05,\n        'clark': clarkData.metrics.testPositivityRatio / 0.05,\n        'larimer': larimerData.metrics.testPositivityRatio / 0.05,\n        'denver': denverData.metrics.testPositivityRatio / 0.05,\n    },\n    {\n        'signal': 'icuUtilization',\n        'multnomah': multnomahData.metrics.icuCapacityRatio / 0.85,\n        'washington': washingtonData.metrics.icuCapacityRatio / 0.85,\n        'honolulu': honoluluData.metrics.icuCapacityRatio / 0.85,\n        'clark': clarkData.metrics.icuCapacityRatio / 0.85,\n        'larimer': larimerData.metrics.icuCapacityRatio / 0.85,\n        'denver': denverData.metrics.icuCapacityRatio / 0.85,\n    }\n]\n\nconst MyResponsiveRadar = ({data, keys}: any) => (\n    <ResponsiveRadar\n        data={data}\n        keys={keys}\n        indexBy=\"signal\"\n        maxValue={1.25}\n        margin={{top: 80, right: 120, bottom: 100, left: 20}}\n        curve=\"linearClosed\"\n        borderWidth={1}\n        borderColor={{from: 'color'}}\n        gridLevels={1.25}\n        gridShape=\"circular\"\n        gridLabel={(blah) => {\n            return null;\n        }}\n        gridLabelOffset={36}\n        enableDots={true}\n        dotSize={10}\n        // dotColor={{ theme: 'background' }}\n        dotColor={(blah) => {\n            if (blah.value > 1) {\n                return 'red';\n            }\n            return 'green';\n        }}\n        dotBorderWidth={2}\n        dotBorderColor={(blah) => {\n            if (blah.value > 1) {\n                return 'red';\n            }\n            return 'green';\n        }}\n        enableDotLabel={true}\n        dotLabel={(blah) => {\n            if (blah.index === \"caseDensity\") {\n                const realValue = blah.value * 10;\n                return 'Cases / 100k = ' + parseFloat(realValue.toString()).toFixed(1);\n            } else if (blah.index === \"testPositivity\") {\n                const realPercent = blah.value * 0.05 * 100\n                return 'Test Positivity: ' + parseFloat(realPercent.toString()).toFixed(1) + \"%\"\n            } else if (blah.index === \"icuUtilization\") {\n                const realPercent = blah.value * 0.85 * 100\n                return 'ICU Usage: ' + parseFloat(realPercent.toString()).toFixed(0) + \"%\"\n            }\n            return 'Rt: ' + blah.value;\n        }}\n        dotLabelYOffset={-12}\n        // colors={{scheme: 'nivo'}}\n        colors={(blah) => {\n            return signals.get(blah.key) || 'gray';\n        }}\n        fillOpacity={0.15}\n        blendMode=\"multiply\"\n        animate={true}\n        // motionConfig=\"wobbly\"\n        isInteractive={false}\n    />\n)\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <div style={{width: 700}}>\n                <p>\n                    When trying to measure the impact of COVID in an area, the first thing we need\n                    to do is measure how many people have it. Diagnosing this officially requires\n                    a test.\n                </p>\n                <p>\n                    Testing, however is a challenge. At any given time, a collection of people is\n                    either infected or uninfected, and they each choose whether or not to get tested\n                    (actual numbers not to scale):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveSankey data={sampleData}/>\n                </div>\n                <p>\n                    \"Test positivity\" stats only calculate positives and negatives from lab tests,\n                    and so they miss undiagnosed cases, as well as home testing. Additionally, as infection\n                    prevalence increases, if we don't have enough tests to meet the demand, test positivity\n                    increases. Therefore, an increase in test positivity is an indication of an outbreak,\n                    even if recorded case count still appears low. For this reason, the CDC says any\n                    level above 5% is cause for concern.\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <TestPositivityLines data={testPositivityData}/>\n                </div>\n                <p>\n                    That said, while testing may not capture every case, a rise in test positivity rate\n                    does tend to correlate with an increased level of cases. CDC tracks this through \"daily\n                    new cases per 100k population\", and says there is increased virus prevalence when the\n                    metric reaches 10 or above.\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <CaseDensityLines data={caseCountData}/>\n                </div>\n                <p>\n                    An effective reproductive number can be derived from the case count data and other data.\n                    The effective reproductive number, or Rt, is how many people an infected person infects\n                    on average. Any number above 1 means the outbreak is growing over time. In other words,\n                    the cases will double over some time period, more quickly as Rt increases. The current\n                    Rt expects cases to double every <b>{doublingLow}</b> to <b>{doublingHigh}</b> days.\n                    Currently, given the all-time case rate and death rate in this region, an infection\n                    will cause a death after <b>{chain}</b> infection generations on average, or\n                    within <b>{deathLow}</b> to <b>{deathHigh}</b> days if Rt stays steady.\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyInfectionLine data={rtInfection}/>\n                </div>\n                <p>\n                    Rt responds to what level of mitigation is in place. Ultimately, without\n                    any other mitigation, a disease runs its course by infecting everyone multiple times,\n                    until sufficient natural immunity is met. In the case of COVID-19, this approach would\n                    cause far too much human suffering, including loss of life from other conditions due\n                    to overcrowded hospitals. So we look for other forms of mitigation, including masks,\n                    social distancing, lockdowns, and especially vaccinations - whatever is sufficient to\n                    get an outbreak under control and get Rt under 1.\n                </p>\n                <p>\n                    We can infer a target vaccination level given the current Rt, which changes as the\n                    mitigation level changes. For instance, kids returning to school reduces social\n                    distancing. As mitigation decreases, Rt increases, and therefore the target vaccination\n                    level increases.\n                </p>\n                <p>\n                    Target vaccination levels, indicated with patterned lines below, are determined through\n                    herd immunity calculations. The calculation takes into account infection efficacy of vaccines,\n                    combined with the reduced probability of vaccinated people passing on the virus to others.\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <VaccinationLines data={vaccineData}/>\n                </div>\n                <p>\n                    As a serious disease increases in prevalence, hospitalizations will increase as well.\n                    Ultimately, deaths increase too, both from the disease, and from hospitals unable to\n                    give routine service due to overcrowding. So we also track ICU capacity. Anything above\n                    85% utilization is considered critical:\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <IcuLines data={icuData}/>\n                </div>\n                <p>\n                    I wanted to come up with a personal indicator that uses each of these signals to\n                    help to determine what level of caution I should act with.\n                    </p>\n                <p>\n                    One thing that became clear is that the level of personal risk is different\n                    than the level of community risk. Being vaccinated, my risk of serious\n                    disease is lower than my risk of passing the virus to others, since viruses\n                    have lower efficacy against infection than they do against hospitalization.\n                    </p>\n                <p>\n                    For that reason, when the disease is spreading or has high prevalence, I\n                    don't want to contribute to spread. So I'm choosing to limit personal contact\n                    - indoors, maskless gatherings with vaccinated people - when any of the\n                    above indicators are above the limit.\n                    </p>\n                <p>The signal is pretty conservative. Others may be comfortable being more social\n                    if there is moderate ({'>'} 10) or even substantial ({'>'} 50) prevalence. But generally,\n                    if Rt is greater than 1, it means the outbreak will get worse over time, so it's\n                    a good signal to be in favor of greater temporary mitigation, until the outbreak\n                    is under control again.\n                    </p>\n                <p>\n                    This signal can be drawn visually.\n                </p>\n                <p>\n                    Washington County:\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['washington']}/>\n                </div>\n                <p>\n                    Multnomah County:\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['multnomah']}/>\n                </div>\n                <p>\n                    Here are some badges for other counties of family:\n                </p>\n                <p>\n                    Clark County (Las Vegas, NV):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['clark']}/>\n                </div>\n                <p>\n                    Honolulu County:\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['honolulu']}/>\n                </div>\n                <p>\n                    Larimer County (Fort Collins, CO):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['larimer']}/>\n                </div>\n                <p>\n                    Denver County:\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['denver']}/>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}