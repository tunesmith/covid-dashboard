{"version":3,"sources":["data lazy /^/.//.*/.json$/ groupOptions: {} namespace object","component/TestPositivitySankey.tsx","component/TestPositivity.tsx","component/CaseDensity.tsx","component/Rt.tsx","component/Vaccination.tsx","component/Icu.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","t","keys","Object","module","exports","testPositivityData","TestPositivitySankey","data","margin","top","right","bottom","left","align","colors","scheme","nodeOpacity","nodeThickness","nodeInnerPadding","nodeSpacing","nodeBorderWidth","nodeBorderColor","from","modifiers","linkOpacity","linkHoverOthersOpacity","enableLinkGradient","labelPosition","labelPadding","labelTextColor","isInteractive","TestPositivity","message","areas","metricsTimeseries","filter","el","testPositivityRatio","x","date","y","markers","axis","value","lineStyle","stroke","strokeWidth","legendPosition","xScale","format","type","useUTC","xFormat","yScale","min","max","stacked","reverse","yFormat","curve","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","legend","legendOffset","axisLeft","enablePoints","pointSize","pointColor","theme","pointBorderWidth","pointBorderColor","pointLabelYOffset","enableSlices","sliceTooltip","style","background","padding","border","points","xFormatted","point","color","serieColor","serieId","yFormatted","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemDirection","itemWidth","itemHeight","itemOpacity","symbolSize","symbolShape","symbolBorderColor","effects","on","itemBackground","CaseDensity","caseCountData","caseDensity","ProtectionLayer","series","areaGenerator","area","d","y0","y1","range","curveMonotoneX","defs","lineWidth","spacing","rotation","undefined","fill","fillOpacity","Rt","doublingTime","rt","period","Math","log","today","Date","thirtyDayCases","actualsTimeseries","reduce","acc","val","getTime","newCases","thirtyDayDeaths","newDeaths","casesPerDeath","exactChain","metrics","infectionRate","chain","ceil","doublingLow","doublingHigh","deathLow","deathHigh","rtInfection","vacRate","rate","vaccinationsCompletedRatio","rtMax","rtLatest","length","hypDoublingLow","hypDoublingHigh","width","height","layers","abs","Vaccination","targetPercent","eff","rTarget","vaccineData","vaccinationsInitiatedRatio","vaccines","targetLower","targetUpper","lower","upper","Icu","icuData","icuCapacityRatio","tickValues","getValidValue","defaultVal","getRecent","timeSeries","compare","signal","rtRecent","casesRecent","testsRecent","icuRecent","cases","tests","icu","signals","multnomahData","washingtonData","honoluluData","clarkData","larimerData","denverData","elpasoData","badgeData","multnomah","washington","honolulu","clark","larimer","denver","elpaso","MyResponsiveRadar","indexBy","maxValue","borderWidth","borderColor","gridLevels","gridShape","gridLabel","blah","gridLabelOffset","enableDots","dotSize","dotColor","dotBorderWidth","dotBorderColor","enableDotLabel","dotLabel","index","realValue","parseFloat","toString","toFixed","realPercent","dotLabelYOffset","keyContainer","key","blendMode","animate","App","useState","setMessage","setData","handleChange","a","target","className","defaultValue","onChange","lastUpdatedDate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.84019406.chunk.js","sourcesContent":["var map = {\n\t\"./clark.json\": [\n\t\t99\n\t],\n\t\"./denver.json\": [\n\t\t102\n\t],\n\t\"./elpaso.json\": [\n\t\t103\n\t],\n\t\"./honolulu.json\": [\n\t\t100\n\t],\n\t\"./larimer.json\": [\n\t\t101\n\t],\n\t\"./metro.json\": [\n\t\t396,\n\t\t4\n\t],\n\t\"./multnomah.json\": [\n\t\t98\n\t],\n\t\"./washington.json\": [\n\t\t72\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 362;\nmodule.exports = webpackAsyncContext;","import {ResponsiveSankey} from \"@nivo/sankey\";\n\nconst testPositivityData = {\n    \"nodes\": [\n        {\n            \"id\": \"Uninfected\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": \"Infected\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": 'Untested',\n            // \"color\": \"#5c5c5c\"\n        },\n        // {\n        //     \"id\": \"Diagnosed\",\n        //     \"color\": \"#f8a8a8\"\n        // },\n        {\n            \"id\": \"Home-tested\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": \"Lab-tested\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": \"Negative\",\n            // \"color\": \"#000000\"\n        },\n        {\n            \"id\": \"Positive\",\n            // \"color\": \"#000000\"\n        },\n        // {\n        //     \"id\": \"Positivity Ratio\",\n        //     \"color\": \"#000000\"\n        // }\n    ],\n    \"links\": [\n        {\n            \"source\": \"Uninfected\",\n            \"target\": \"Home-tested\",\n            \"value\": 20\n        },\n        {\n            \"source\": \"Uninfected\",\n            \"target\": \"Lab-tested\",\n            \"value\": 70\n        },\n        {\n            \"source\": \"Uninfected\",\n            \"target\": 'Untested',\n            \"value\": 60\n        },\n        {\n            \"source\": \"Infected\",\n            \"target\": 'Untested',\n            \"value\": 10\n        },\n        // {\n        //     \"source\": \"Infected\",\n        //     \"target\": \"Diagnosed\",\n        //     \"value\": 80\n        // },\n        {\n            // \"source\": \"Diagnosed\",\n            \"source\": \"Infected\",\n            \"target\": \"Home-tested\",\n            \"value\": 10\n        },\n        {\n            // \"source\": \"Diagnosed\",\n            \"source\": \"Infected\",\n            \"target\": \"Lab-tested\",\n            \"value\": 20\n        },\n        {\n            \"source\": \"Lab-tested\",\n            \"target\": \"Negative\",\n            \"value\": 70\n        },\n        {\n            \"source\": \"Lab-tested\",\n            \"target\": \"Positive\",\n            \"value\": 20\n        },\n        // {\n        //     \"source\": \"Negative\",\n        //     \"target\": \"Positivity Ratio\",\n        //     \"value\":50\n        // },\n        // {\n        //     \"source\": \"Positive\",\n        //     \"target\": \"Positivity Ratio\",\n        //     \"value\":20\n        // }\n    ]\n};\n\nconst TestPositivitySankey = () => (\n    <ResponsiveSankey\n        data={testPositivityData}\n        margin={{top: 40, right: 50, bottom: 40, left: 60}}\n        align=\"start\"\n        // sort=\"descending\"\n        colors={{scheme: 'category10'}}\n        nodeOpacity={1}\n        nodeThickness={18}\n        nodeInnerPadding={3}\n        nodeSpacing={24}\n        nodeBorderWidth={0}\n        nodeBorderColor={{from: 'color', modifiers: [['darker', 0.8]]}}\n        linkOpacity={0.5}\n        linkHoverOthersOpacity={0.1}\n        enableLinkGradient={true}\n        labelPosition=\"inside\"\n        // labelOrientation=\"vertical\"\n        labelPadding={6}\n        labelTextColor={{from: 'color', modifiers: [['darker', 1]]}}\n        isInteractive={false}\n    />\n)\n\nexport default TestPositivitySankey;","import {DataShape, areas} from \"../App\";\nimport {ResponsiveLine} from \"@nivo/line\";\nimport React from \"react\";\n\nconst TestPositivity = ({data, message}: {data: DataShape, message: string}) => {\n    const testPositivityData = [{\n        id: areas[message],\n        data: data.metricsTimeseries.filter(el => el.testPositivityRatio !== null && el.testPositivityRatio >= 0).map(el => {\n            return {\n                x: el.date,\n                y: el.testPositivityRatio\n            }\n        })\n    }];\n\n    return (\n        <ResponsiveLine\n            markers={[\n                {\n                    axis: 'y',\n                    value: 0.05,\n                    lineStyle: {stroke: '#b0413e', strokeWidth: 1},\n                    // legend: 'y marker at 0',\n                    legendPosition: 'bottom-left',\n                },\n            ]}\n            data={testPositivityData}\n            margin={{top: 50, right: 140, bottom: 50, left: 60}}\n            xScale={{\n                format: \"%Y-%m-%d\",\n                type: \"time\",\n                useUTC: false,\n            }}\n            xFormat=\"time:%Y-%m-%d\"\n            yScale={{type: 'linear', min: 0, max: 'auto', stacked: false, reverse: false}}\n            // yFormat=\" >-.2f\"\n            yFormat=\" >-.1%\"\n            curve=\"linear\"\n            axisTop={null}\n            axisRight={null}\n            axisBottom={{\n                // tickValues: \"every 3 month\",\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                format: \"%Y-%m\",\n                legend: \"Date\",\n                legendOffset: 36,\n                legendPosition: \"middle\"\n            }}\n            axisLeft={{\n                // orient: 'left',\n                format: \">-.0%\",\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: 'Percent Positive',\n                legendOffset: -45,\n                legendPosition: 'middle'\n            }}\n            enablePoints={false}\n            pointSize={10}\n            pointColor={{theme: 'background'}}\n            pointBorderWidth={2}\n            pointBorderColor={{from: 'serieColor'}}\n            pointLabelYOffset={-12}\n            isInteractive={true}\n            // useMesh={true}\n            enableSlices={\"x\"}\n            sliceTooltip={({slice}) => {\n                return (\n                    <div\n                        style={{\n                            background: 'white',\n                            padding: '9px 12px',\n                            border: '1px solid #ccc',\n                        }}\n                    >\n                        <div>{slice.points[0].data.xFormatted}</div>\n                        {slice.points.map(point => (\n                            <div\n                                key={point.id}\n                                style={{\n                                    color: point.serieColor,\n                                    padding: '3px 0',\n                                }}\n                            >\n                                <strong>{point.serieId}</strong> {point.data.yFormatted}\n                            </div>\n                        ))}\n                    </div>\n                )\n            }}\n            legends={[\n                {\n                    anchor: 'bottom-right',\n                    direction: 'column',\n                    justify: false,\n                    translateX: 140,\n                    translateY: 0,\n                    itemsSpacing: 0,\n                    itemDirection: 'left-to-right',\n                    itemWidth: 120,\n                    itemHeight: 20,\n                    itemOpacity: 0.75,\n                    symbolSize: 12,\n                    symbolShape: 'circle',\n                    symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                    effects: [\n                        {\n                            on: 'hover',\n                            style: {\n                                itemBackground: 'rgba(0, 0, 0, .03)',\n                                itemOpacity: 1\n                            }\n                        }\n                    ]\n                }\n            ]}\n        />\n    );\n}\n\nexport default TestPositivity;","import {areas, DataShape} from \"../App\";\nimport {ResponsiveLine} from \"@nivo/line\";\nimport React from \"react\";\n\nconst CaseDensity = ({data, message}: {data: DataShape, message: string}) => {\n    const caseCountData = [{\n        id: areas[message],\n        data: data.metricsTimeseries.filter(el => el.caseDensity !== null).map(el => {\n            return {\n                x: el.date,\n                y: el.caseDensity\n            }\n        })\n    }];\n\n    return (\n        <ResponsiveLine\n            markers={[\n                {\n                    axis: 'y',\n                    value: 10,\n                    lineStyle: {stroke: '#b0413e', strokeWidth: 1},\n                    // legend: 'y marker at 0',\n                    legendPosition: 'bottom-left',\n                },\n            ]}\n            data={caseCountData}\n            margin={{top: 50, right: 140, bottom: 50, left: 60}}\n            xScale={{\n                format: \"%Y-%m-%d\",\n                type: \"time\",\n                useUTC: false,\n            }}\n            xFormat=\"time:%Y-%m-%d\"\n            yScale={{type: 'linear', min: 0, max: 'auto', stacked: false, reverse: false}}\n            // yFormat=\" >-.2f\"\n            curve=\"cardinal\"\n            axisTop={null}\n            axisRight={null}\n            axisBottom={{\n                // tickValues: \"every 3 month\",\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                format: \"%Y-%m\",\n                legend: \"Date\",\n                legendOffset: 36,\n                legendPosition: \"middle\"\n            }}\n            axisLeft={{\n                // orient: 'left',\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: 'Cases / 100k',\n                legendOffset: -45,\n                legendPosition: 'middle'\n            }}\n            enablePoints={false}\n            pointSize={10}\n            pointColor={{theme: 'background'}}\n            pointBorderWidth={2}\n            pointBorderColor={{from: 'serieColor'}}\n            pointLabelYOffset={-12}\n            isInteractive={true}\n            // useMesh={true}\n            enableSlices={\"x\"}\n            sliceTooltip={({slice}) => {\n                return (\n                    <div\n                        style={{\n                            background: 'white',\n                            padding: '9px 12px',\n                            border: '1px solid #ccc',\n                        }}\n                    >\n                        <div>{slice.points[0].data.xFormatted}</div>\n                        {slice.points.map(point => (\n                            <div\n                                key={point.id}\n                                style={{\n                                    color: point.serieColor,\n                                    padding: '3px 0',\n                                }}\n                            >\n                                <strong>{point.serieId}</strong> {point.data.yFormatted}\n                            </div>\n                        ))}\n                    </div>\n                )\n            }}\n            legends={[\n                {\n                    anchor: 'bottom-right',\n                    direction: 'column',\n                    justify: false,\n                    translateX: 100,\n                    translateY: 0,\n                    itemsSpacing: 0,\n                    itemDirection: 'left-to-right',\n                    itemWidth: 80,\n                    itemHeight: 20,\n                    itemOpacity: 0.75,\n                    symbolSize: 12,\n                    symbolShape: 'circle',\n                    symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                    effects: [\n                        {\n                            on: 'hover',\n                            style: {\n                                itemBackground: 'rgba(0, 0, 0, .03)',\n                                itemOpacity: 1\n                            }\n                        }\n                    ]\n                }\n            ]}\n        />\n    );\n}\n\nexport default CaseDensity;","import {areas, DataShape} from \"../App\";\nimport React from \"react\";\nimport {ResponsiveLine} from \"@nivo/line\";\nimport {area, curveMonotoneX} from \"d3-shape\";\nimport {Defs} from \"@nivo/core\";\n\nconst ProtectionLayer = ({ series, xScale, yScale }: any) => {\n    const areaGenerator = area()\n        .x((d: [any, any]) => {\n            return xScale(d['data' as any].x)\n        })\n        .y0((d: [any, any]) => {\n            const data = d['data' as any];\n            return yScale(data.y);\n        })\n        .y1((d: [any, any]) => {\n            const data = d['data' as any];\n            return yScale(data.range);\n        })\n        .curve(curveMonotoneX)\n\n    return (\n        <>\n            <Defs\n                defs={[\n                    {\n                        id: 'pattern',\n                        type: 'patternLines',\n                        background: 'transparent',\n                        color: '#fc9926',\n                        lineWidth: 1,\n                        spacing:5,\n                        rotation: -45,\n                    },\n                ]}\n            />\n            <path\n                d={areaGenerator(series[0].data) || undefined}\n                fill=\"url(#pattern)\"\n                fillOpacity={0.2}\n                stroke=\"#fc9926\"\n                strokeWidth={0.5}\n            />\n        </>\n    )\n}\n\nconst Rt = ({data, message}: { data: DataShape, message: string }) => {\n\n    const doublingTime = (rt: number, period: number): number => {\n        return period * ( Math.log(2) / Math.log(rt) )\n    }\n\n    const today = new Date();\n    const thirtyDayCases = data.actualsTimeseries.reduce<number>((acc, val) => {\n        const entryDate = new Date(val.date);\n        if (entryDate.getTime() + 30*24*60*60*1000 > today.getTime()) {\n            if (val.newCases) {\n                acc += val.newCases;\n            }\n        }\n        return acc;\n    }, 0);\n    const thirtyDayDeaths = data.actualsTimeseries.reduce<number>((acc, val) => {\n        const entryDate = new Date(val.date);\n        if (entryDate.getTime() + 30*24*60*60*1000 > today.getTime()) {\n            if (val.newDeaths) {\n                acc += val.newDeaths;\n            }\n        }\n        return acc;\n    }, 0);\n\n    const casesPerDeath = thirtyDayCases / (thirtyDayDeaths > 0 ? thirtyDayDeaths : 1);\n    const exactChain = Math.log(1 - (casesPerDeath * (1 - data.metrics.infectionRate))) / Math.log(data.metrics.infectionRate);\n    const chain = Math.ceil(exactChain);\n    const doublingLow = Math.ceil(doublingTime(data.metrics.infectionRate, 5));\n    const doublingHigh = Math.ceil(doublingTime(data.metrics.infectionRate, 16));\n    const deathLow = Math.ceil(exactChain * 5);\n    const deathHigh = Math.ceil(exactChain * 16);\n\n    /**\n     * rInit: What the Rt would be if not for the vaccination rate, at some vaccination efficacy.\n     *\n     * rInit(rt, vacRate, eff) = rt / (1 - (vacRate * eff))\n     */\n    const rInit = (rt: number, vacRate: number, eff: number): number => {\n        return rt / (1 - (vacRate * eff))\n    }\n\n    const rtInfection = [{\n        id: areas[message],\n        data: data.metricsTimeseries.filter(el => el.infectionRate !== null && el.infectionRate !== undefined).map(el => {\n            const rate: number = el.infectionRate as number;\n            const range = el.vaccinationsCompletedRatio ? rInit(rate, el.vaccinationsCompletedRatio as number, 0.83) : rate;\n            return {\n                x: el.date,\n                y: el.infectionRate,\n                range: Math.max(range, rate)\n            }\n        })\n    }];\n\n    const rtMax = rtInfection[0].data.reduce<number>((acc, val) => { return (val.range > acc) ? val.range : acc }, 0);\n    const rtLatest = rtInfection[0].data[rtInfection[0].data.length - 1].range;\n    const hypDoublingLow = Math.ceil(doublingTime(rtLatest, 5));\n    const hypDoublingHigh = Math.ceil(doublingTime(rtLatest, 16));\n\n    return (\n        <>\n            <div style={{width: 700, height: 300}}>\n                <ResponsiveLine\n                    markers={[\n                        {\n                            axis: 'y',\n                            value: 1,\n                            lineStyle: {stroke: '#b0413e', strokeWidth: 1},\n                            // legend: 'y marker at 0',\n                            legendPosition: 'bottom-left',\n                        },\n                    ]}\n                    data={rtInfection}\n                    margin={{top: 50, right: 140, bottom: 50, left: 60}}\n                    xScale={{\n                        format: \"%Y-%m-%d\",\n                        type: \"time\",\n                        useUTC: false,\n                    }}\n                    xFormat=\"time:%Y-%m-%d\"\n                    yScale={{type: 'linear', min: 'auto', max: rtMax, stacked: false, reverse: false}}\n                    // yFormat=\" >-.2f\"\n                    curve=\"cardinal\"\n                    axisTop={null}\n                    axisRight={null}\n                    axisBottom={{\n                        // tickValues: \"every 3 month\",\n                        tickSize: 5,\n                        tickPadding: 5,\n                        tickRotation: 0,\n                        format: \"%Y-%m\",\n                        legend: \"Date\",\n                        legendOffset: 36,\n                        legendPosition: \"middle\"\n                    }}\n                    axisLeft={{\n                        // orient: 'left',\n                        tickSize: 5,\n                        tickPadding: 5,\n                        tickRotation: 0,\n                        legend: 'Rt',\n                        legendOffset: -45,\n                        legendPosition: 'middle'\n                    }}\n                    enablePoints={false}\n                    pointSize={10}\n                    pointColor={{theme: 'background'}}\n                    pointBorderWidth={2}\n                    pointBorderColor={{from: 'serieColor'}}\n                    pointLabelYOffset={-12}\n                    layers={[\n                        'grid',\n                        'markers',\n                        'areas',\n                        ProtectionLayer,\n                        'lines',\n                        'slices',\n                        'axes',\n                        'points',\n                        'legends',\n                    ]}\n                    isInteractive={true}\n                    // useMesh={true}\n                    enableSlices={\"x\"}\n                    sliceTooltip={({slice}) => {\n                        return (\n                            <div\n                                style={{\n                                    background: 'white',\n                                    padding: '9px 12px',\n                                    border: '1px solid #ccc',\n                                }}\n                            >\n                                <div>{slice.points[0].data.xFormatted}</div>\n                                {slice.points.map(point => (\n                                    <div\n                                        key={point.id}\n                                        style={{\n                                            color: point.serieColor,\n                                            padding: '3px 0',\n                                        }}\n                                    >\n                                        <strong>{point.serieId}</strong> {point.data.yFormatted}\n                                    </div>\n                                ))}\n                            </div>\n                        )\n                    }}\n                    legends={[\n                        {\n                            anchor: 'bottom-right',\n                            direction: 'column',\n                            justify: false,\n                            translateX: 100,\n                            translateY: 0,\n                            itemsSpacing: 0,\n                            itemDirection: 'left-to-right',\n                            itemWidth: 80,\n                            itemHeight: 20,\n                            itemOpacity: 0.75,\n                            symbolSize: 12,\n                            symbolShape: 'circle',\n                            symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                            effects: [\n                                {\n                                    on: 'hover',\n                                    style: {\n                                        itemBackground: 'rgba(0, 0, 0, .03)',\n                                        itemOpacity: 1\n                                    }\n                                }\n                            ]\n                        }\n                    ]}\n                />\n            </div>\n            <p>\n                The current Rt for {areas[message]} expects cases\n                to {doublingLow <= 0 ? \"halve\" : \"double\"} every <b>{Math.abs(doublingLow)}</b> to <b>{Math.abs(doublingHigh)}</b> days.\n                If no one were vaccinated, cases\n                would {hypDoublingLow <= 0 ? \"halve\" : \"double\"} every <b>{Math.abs(hypDoublingLow)}</b> to <b>{Math.abs(hypDoublingHigh)}</b> days.\n            </p>\n            {doublingLow > 0 &&\n            <p>\n                Currently, given the 30-day case rate and death rate in this region, one infection\n                will cause a death after <b>{chain}</b> infection generations on average, or\n                within <b>{deathLow}</b> to <b>{deathHigh}</b> days if Rt stays steady.\n            </p>\n            }\n        </>\n    );\n}\n\nexport default Rt;","import {DataShape} from \"../App\";\nimport {ResponsiveLine} from \"@nivo/line\";\nimport React from \"react\";\nimport {area, curveMonotoneX} from \"d3-shape\";\nimport {Defs} from \"@nivo/core\";\n\nconst Vaccination = ({data}: { data: DataShape }) => {\n\n    /**\n     * Given a current rt, and a target rt (usually 1), and a current vaccination rate and efficacy\n     * against infection, calculate what future vaccination rate would move the current rt to rTarget.\n     *\n     * CDC says that mRNA vaccines are between 26% and 84% effective (95% certainty, 66% estimated)\n     * against infection, and there is an additional 40%-60% protection against vaccinated people\n     * passing the virus to others, which yields a range of 55.6 - 93.6 effectiveness.\n     *\n     * To get a single number, an estimate of 66% efficacy and 50% resistance would work, or 83%\n     * overall.\n     *\n     * @param rt\n     * @param vacRate\n     * @param eff\n     * @param rTarget\n     */\n    const targetPercent = (rt: number, vacRate: number, eff: number, rTarget: number): number => {\n        return (1 - (rTarget * (\n                (1 - (vacRate * eff)) /\n                rt))\n        ) / eff\n    }\n\n    const vaccineData = [{\n        id: `Vaccine #1`,\n        data: data.metricsTimeseries.filter(el => el.vaccinationsInitiatedRatio !== null && el.vaccinationsInitiatedRatio !== undefined).map(el => {\n            return {\n                x: el.date,\n                y: el.vaccinationsInitiatedRatio\n            }\n        })\n    }, {\n        id: `Vaccine #2`,\n        data: data.metricsTimeseries.filter(el => el.vaccinationsCompletedRatio !== null && el.vaccinationsCompletedRatio !== undefined).map(el => {\n            const vaccines = el.vaccinationsCompletedRatio as number;\n            const targetLower: number = el.infectionRate ? targetPercent(el.infectionRate, vaccines, 0.936, 1) : vaccines;\n            const targetUpper: number = el.infectionRate ? targetPercent(el.infectionRate, vaccines, 0.556, 1) : vaccines;\n            return {\n                x: el.date,\n                rt: el.infectionRate,\n                y: el.vaccinationsCompletedRatio,\n                lower: Math.max(targetLower, vaccines),\n                upper: Math.max(targetUpper, vaccines)\n            }\n        })\n    }]\n\n\n    const AreaLayer = ({series, xScale, yScale}: any) => {\n        const areaGenerator = area()\n            .x((d: [any, any]) => {\n                return xScale(d['data' as any].x)\n            })\n            .y0((d: [any, any]) => {\n                const data = d['data' as any];\n                return yScale(data.lower);\n            })\n            .y1((d: [any, any]) => {\n                const data = d['data' as any];\n                return yScale(data.upper);\n            })\n            .curve(curveMonotoneX)\n\n        return (\n            <>\n                <Defs\n                    defs={[\n                        {\n                            id: 'pattern',\n                            type: 'patternLines',\n                            background: 'transparent',\n                            color: '#fc9926',\n                            lineWidth: 1,\n                            spacing: 5,\n                            rotation: -45,\n                        },\n                    ]}\n                />\n                <path\n                    d={areaGenerator(series[1].data) || undefined}\n                    fill=\"url(#pattern)\"\n                    fillOpacity={0.6}\n                    stroke=\"#fc9926\"\n                    strokeWidth={1.5}\n                />\n            </>\n        )\n    }\n\n    return (\n        <ResponsiveLine\n            data={vaccineData}\n            margin={{top: 50, right: 140, bottom: 50, left: 60}}\n            colors={{\"scheme\": \"category10\"}}\n            xScale={{\n                format: \"%Y-%m-%d\",\n                type: \"time\",\n                useUTC: false,\n            }}\n            xFormat=\"time:%Y-%m-%d\"\n            yScale={{type: 'linear', min: 'auto', max: 1, stacked: false, reverse: false}}\n            // yFormat=\" >-.2f\"\n            yFormat=\" >-.1%\"\n            curve=\"cardinal\"\n            axisTop={null}\n            axisRight={null}\n            axisBottom={{\n                // tickValues: \"every 3 month\",\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                format: \"%Y-%m\",\n                legend: \"Date\",\n                legendOffset: 36,\n                legendPosition: \"middle\"\n            }}\n            axisLeft={{\n                // orient: 'left',\n                format: \">-.0%\",\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: 'Vaccination %',\n                legendOffset: -45,\n                legendPosition: 'middle'\n            }}\n            enablePoints={false}\n            pointSize={10}\n            pointColor={{theme: 'background'}}\n            pointBorderWidth={2}\n            pointBorderColor={{from: 'serieColor'}}\n            pointLabelYOffset={-12}\n            layers={[\n                'grid',\n                'markers',\n                'areas',\n                AreaLayer,\n                'lines',\n                'slices',\n                'axes',\n                'points',\n                'legends',\n            ]}\n            isInteractive={true}\n            // useMesh={true}\n            enableSlices={\"x\"}\n            sliceTooltip={({slice}) => {\n                return (\n                    <div\n                        style={{\n                            background: 'white',\n                            padding: '9px 12px',\n                            border: '1px solid #ccc',\n                        }}\n                    >\n                        <div>{slice.points[0].data.xFormatted}</div>\n                        {slice.points.map(point => (\n                            <div\n                                key={point.id}\n                                style={{\n                                    color: point.serieColor,\n                                    padding: '3px 0',\n                                }}\n                            >\n                                <strong>{point.serieId}</strong> {point.data.yFormatted}\n                            </div>\n                        ))}\n                    </div>\n                )\n            }}\n            legends={[\n                {\n                    anchor: 'bottom-right',\n                    direction: 'column',\n                    justify: false,\n                    translateX: 100,\n                    translateY: 0,\n                    itemsSpacing: 0,\n                    itemDirection: 'left-to-right',\n                    itemWidth: 80,\n                    itemHeight: 20,\n                    itemOpacity: 0.75,\n                    symbolSize: 12,\n                    symbolShape: 'circle',\n                    symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                    effects: [\n                        {\n                            on: 'hover',\n                            style: {\n                                itemBackground: 'rgba(0, 0, 0, .03)',\n                                itemOpacity: 1\n                            }\n                        }\n                    ]\n                }\n            ]}\n        />\n    );\n}\n\nexport default Vaccination;","import {areas, DataShape} from \"../App\";\nimport {ResponsiveLine} from \"@nivo/line\";\nimport React from \"react\";\n\nconst Icu = ({data, message}: { data: DataShape, message: string }) => {\n    const icuData = [{\n        id: areas[message],\n        data: data.metricsTimeseries.filter(el => el.icuCapacityRatio !== null && el.icuCapacityRatio < 1).map(el => {\n            return {\n                x: el.date,\n                y: el.icuCapacityRatio\n            }\n        })\n    }]\n\n    return (\n        <ResponsiveLine\n            markers={[\n                {\n                    axis: 'y',\n                    value: 0.85,\n                    lineStyle: {stroke: '#b0413e', strokeWidth: 1},\n                    // legend: 'y marker at 0',\n                    legendPosition: 'bottom-left',\n                },\n            ]}\n            data={icuData}\n            margin={{top: 50, right: 140, bottom: 50, left: 80}}\n            xScale={{\n                format: \"%Y-%m-%d\",\n                type: \"time\",\n                useUTC: false,\n            }}\n            xFormat=\"time:%Y-%m-%d\"\n            yScale={{type: 'linear', min: 'auto', max: 1, stacked: false, reverse: false}}\n            // yFormat=\" >-.2f\"\n            yFormat=\" >-.0%\"\n            curve=\"cardinal\"\n            axisTop={null}\n            axisRight={null}\n            axisBottom={{\n                tickValues: \"every 3 month\",\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                format: \"%Y-%m\",\n                legend: \"Date\",\n                legendOffset: 36,\n                legendPosition: \"middle\"\n            }}\n            axisLeft={{\n                // orient: 'left',\n                format: \">-.0%\",\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: 'ICU Usage',\n                legendOffset: -45,\n                legendPosition: 'middle'\n            }}\n            enablePoints={false}\n            pointSize={10}\n            pointColor={{theme: 'background'}}\n            pointBorderWidth={2}\n            pointBorderColor={{from: 'serieColor'}}\n            pointLabelYOffset={-12}\n            isInteractive={true}\n            // useMesh={true}\n            enableSlices={\"x\"}\n            sliceTooltip={({slice}) => {\n                return (\n                    <div\n                        style={{\n                            background: 'white',\n                            padding: '9px 12px',\n                            border: '1px solid #ccc',\n                        }}\n                    >\n                        <div>{slice.points[0].data.xFormatted}</div>\n                        {slice.points.map(point => (\n                            <div\n                                key={point.id}\n                                style={{\n                                    color: point.serieColor,\n                                    padding: '3px 0',\n                                }}\n                            >\n                                <strong>{point.serieId}</strong> {point.data.yFormatted}\n                            </div>\n                        ))}\n                    </div>\n                )\n            }}\n            legends={[\n                {\n                    anchor: 'bottom-right',\n                    direction: 'column',\n                    justify: false,\n                    translateX: 140,\n                    translateY: 0,\n                    itemsSpacing: 0,\n                    itemDirection: 'left-to-right',\n                    itemWidth: 120,\n                    itemHeight: 20,\n                    itemOpacity: 0.75,\n                    symbolSize: 12,\n                    symbolShape: 'circle',\n                    symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                    effects: [\n                        {\n                            on: 'hover',\n                            style: {\n                                itemBackground: 'rgba(0, 0, 0, .03)',\n                                itemOpacity: 1\n                            }\n                        }\n                    ]\n                }\n            ]}\n        />\n    )\n}\n\nexport default Icu;","import './App.css';\nimport {ResponsiveRadar} from '@nivo/radar'\nimport multnomahData from './data/multnomah.json';\nimport washingtonData from './data/washington.json';\nimport clarkData from './data/clark.json';\nimport honoluluData from './data/honolulu.json';\nimport larimerData from './data/larimer.json';\nimport denverData from './data/denver.json';\nimport elpasoData from './data/elpaso.json';\nimport TestPositivitySankey from \"./component/TestPositivitySankey\";\nimport React, {useState} from \"react\";\nimport TestPositivity from \"./component/TestPositivity\";\nimport CaseDensity from \"./component/CaseDensity\";\nimport Rt from \"./component/Rt\";\nimport Vaccination from \"./component/Vaccination\";\nimport Icu from \"./component/Icu\";\n\n// TODO do better at reporting most recent date. And title graphs.\n\nexport interface DataShape {\n    actuals: any;\n    actualsTimeseries: any[];\n    annotations: any;\n    cdcTransmissionLevel: number;\n    cdcTransmissionLevelTimeseries: {\n        date: string,\n        cdcTransmissionLevel: number\n    }[];\n    country: string;\n    county: string;\n    fips: string;\n    lastUpdatedDate: string;\n    lat: any;\n    level: string;\n    locationId: string;\n    long: any;\n    metrics: any;\n    metricsTimeseries: any[];\n    population: number;\n    riskLevels: any;\n    riskLevelsTimeseries: any[];\n    state: string;\n    url: string;\n}\n\nconst getValidValue = (value: number | any | undefined, defaultVal: number): number => {\n    return (value !== null && value !== undefined) ? value : defaultVal;\n}\n\nconst getRecent = (timeSeries: any[], compare: (input: number | any | undefined, output: number) => number): number => {\n    return timeSeries.reduce<number>((acc, val) => {\n        return compare(val, acc)\n    }, 0);\n}\n\ninterface SignalData {\n    color: string,\n    rt: number,\n    cases: number,\n    tests: number,\n    icu: number\n}\n\nconst signal = (data: DataShape): SignalData => {\n    const rtRecent = getRecent(data.metricsTimeseries, (val, acc) => getValidValue(val.infectionRate, acc));\n    const casesRecent = getRecent(data.metricsTimeseries, (val, acc) => getValidValue(val.caseDensity, acc));\n    const testsRecent = getRecent(data.metricsTimeseries, (val, acc) => getValidValue(val.testPositivityRatio, acc));\n    const icuRecent = getRecent(data.metricsTimeseries, (val, acc) => getValidValue(val.icuCapacityRatio, acc));\n\n    return {\n        color: (rtRecent > 1) || (casesRecent > 10) || (testsRecent > 0.05) || (icuRecent >= 0.85) ? 'red' : 'green',\n        rt: rtRecent,\n        cases: casesRecent,\n        tests: testsRecent,\n        icu: icuRecent\n    }\n}\n\nconst signals: { [key: string]: SignalData } = {\n    'multnomah': signal(multnomahData),\n    'washington': signal(washingtonData),\n    'honolulu': signal(honoluluData),\n    'clark': signal(clarkData),\n    'larimer': signal(larimerData),\n    'denver': signal(denverData),\n    'elpaso': signal(elpasoData),\n}\n\nconst badgeData = [\n    {\n        'signal': 'rt',\n        'multnomah': signals.multnomah.rt,\n        'washington': signals.washington.rt,\n        'honolulu': signals.honolulu.rt,\n        'clark': signals.clark.rt,\n        'larimer': signals.larimer.rt,\n        'denver': signals.denver.rt,\n        'elpaso': signals.elpaso.rt,\n    },\n    {\n        'signal': 'caseDensity',\n        'multnomah': signals.multnomah.cases / 10,\n        'washington': signals.washington.cases / 10,\n        'honolulu': signals.honolulu.cases / 10,\n        'clark': signals.clark.cases / 10,\n        'larimer': signals.larimer.cases / 10,\n        'denver': signals.denver.cases / 10,\n        'elpaso': signals.elpaso.cases / 10,\n    },\n    {\n        'signal': 'testPositivity',\n        'multnomah': signals.multnomah.tests / 0.05,\n        'washington': signals.washington.tests / 0.05,\n        'honolulu': signals.honolulu.tests / 0.05,\n        'clark': signals.clark.tests / 0.05,\n        'larimer': signals.larimer.tests / 0.05,\n        'denver': signals.denver.tests / 0.05,\n        'elpaso': signals.elpaso.tests / 0.05,\n    },\n    {\n        'signal': 'icuUtilization',\n        'multnomah': signals.multnomah.icu / 0.85,\n        'washington': signals.washington.icu / 0.85,\n        'honolulu': signals.honolulu.icu / 0.85,\n        'clark': signals.clark.icu / 0.85,\n        'larimer': signals.larimer.icu / 0.85,\n        'denver': signals.denver.icu / 0.85,\n        'elpaso': signals.elpaso.icu / 0.85,\n    }\n]\n\nconst MyResponsiveRadar = ({data, keys}: any) => (\n    <ResponsiveRadar\n        data={data}\n        keys={keys}\n        indexBy=\"signal\"\n        maxValue={1.25}\n        margin={{top: 80, right: 120, bottom: 100, left: 20}}\n        curve=\"linearClosed\"\n        borderWidth={1}\n        borderColor={{from: 'color'}}\n        gridLevels={1.25}\n        gridShape=\"circular\"\n        gridLabel={(blah) => {\n            return null;\n        }}\n        gridLabelOffset={36}\n        enableDots={true}\n        dotSize={10}\n        // dotColor={{ theme: 'background' }}\n        dotColor={(blah) => {\n            if (blah.value > 1) {\n                return 'red';\n            }\n            return 'green';\n        }}\n        dotBorderWidth={2}\n        dotBorderColor={(blah) => {\n            if (blah.value > 1) {\n                return 'red';\n            }\n            return 'green';\n        }}\n        enableDotLabel={true}\n        dotLabel={(blah) => {\n            if (blah.index === \"caseDensity\") {\n                const realValue = blah.value * 10;\n                return 'Cases / 100k = ' + parseFloat(realValue.toString()).toFixed(1);\n            } else if (blah.index === \"testPositivity\") {\n                const realPercent = blah.value * 0.05 * 100\n                return 'Test Positivity: ' + parseFloat(realPercent.toString()).toFixed(1) + \"%\"\n            } else if (blah.index === \"icuUtilization\") {\n                const realPercent = blah.value * 0.85 * 100\n                return 'ICU Usage: ' + parseFloat(realPercent.toString()).toFixed(0) + \"%\"\n            }\n            return 'Rt: ' + blah.value;\n        }}\n        dotLabelYOffset={-12}\n        // colors={{scheme: 'nivo'}}\n        colors={(keyContainer: { key: string, index: number }) => {\n            return signals[keyContainer.key].color || 'gray';\n        }}\n        fillOpacity={0.15}\n        blendMode=\"multiply\"\n        animate={true}\n        // motionConfig=\"wobbly\"\n        isInteractive={false}\n    />\n)\n\nexport const areas: Record<string, string> = {\n    \"metro\": \"Portland Metro Area\",\n    \"multnomah\": \"Multnomah County\",\n    \"washington\": \"Washington County\",\n    \"honolulu\": \"Honolulu County\",\n    \"clark\": \"Clark County\",\n    \"larimer\": \"Larimer County\",\n    \"denver\": \"Denver County\",\n    \"elpaso\": \"El Paso County\",\n};\n\nfunction App() {\n    const [message, setMessage] = useState<string>('washington');\n    const [data, setData] = useState(washingtonData);\n    const handleChange = async (e: React.ChangeEvent<HTMLSelectElement>) => {\n        setMessage(e.target.value);\n        setData(await import(`./data/${e.target.value}.json`));\n    }\n\n    return (\n        <div className=\"App\">\n            <div style={{width: 700}}>\n                <select defaultValue={message}\n                        onChange={handleChange}\n                >\n                    <option value=\"metro\">Portland Metro Area, OR</option>\n                    <option value=\"multnomah\">Multnomah County, OR (Portland)</option>\n                    <option value=\"washington\">Washington County, OR</option>\n                    <option value=\"honolulu\">Honolulu County, HI</option>\n                    <option value=\"clark\">Clark County, NV (Las Vegas)</option>\n                    <option value=\"larimer\">Larimer County, CO (Fort Collins)</option>\n                    <option value=\"denver\">Denver County, CO</option>\n                    <option value=\"elpaso\">El Paso County, CO (Colorado Springs)</option>\n                </select>\n                <p>\n                    ({areas[message]} last updated {data.lastUpdatedDate}. Data is from the CovidActNow\n                    API, which comes from the NYTimes data set.)\n                </p>\n                <p>\n                    When trying to measure the impact of COVID in an area, the first step is determining\n                    how many people have it. Diagnosing this officially requires a test.\n                </p>\n                <p>\n                    Testing, however, is a challenge. At any given time, a collection of people is\n                    either infected or uninfected, and they each choose whether or not to get tested.\n                    (The following graph is a conceptual estimate; numbers not to scale.)\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <TestPositivitySankey/>\n                </div>\n                <p>\n                    \"Test positivity\" stats only calculate positives and negatives from lab tests,\n                    so they miss undiagnosed cases, as well as home testing. Additionally, as infection\n                    prevalence increases, if there aren't enough tests to meet the demand, test positivity\n                    increases. Therefore, an increase in test positivity is an indication of an outbreak,\n                    even if recorded case count still appears low. For this reason, the CDC says any\n                    level above 5% is cause for concern.\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <TestPositivity data={data} message={message}/>\n                </div>\n                <p>\n                    While testing may not capture every case, a rise in test positivity rate tends to\n                    correlate with an increased level of cases. CDC tracks this through \"daily new cases\n                    per 100k population\", and says there is increased virus prevalence when the metric\n                    reaches 10 or above.\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <CaseDensity data={data} message={message}/>\n                </div>\n                <p>\n                    An effective reproductive number, or Rt, can be derived from the case count data and\n                    other data. Rt is how many people an infected person infects on average. Any number\n                    above 1 means the outbreak is growing over time. In other words, the cases will double\n                    over some time period, more quickly as Rt increases. The shaded area is an estimate of\n                    what regional Rt would be if not for the vaccines.\n                </p>\n                <Rt data={data} message={message}/>\n                <p>\n                    Rt responds to what level of mitigation is in place. Ultimately, without any other\n                    mitigation, a disease runs its course by infecting everyone, multiple times if necessary,\n                    until sufficient natural immunity is met. In the case of COVID-19, this approach would\n                    cause far too much human suffering, including loss of life from other conditions due\n                    to overcrowded hospitals. So we look for other forms of mitigation, including masks,\n                    social distancing, lockdowns, and especially vaccinations - whatever is sufficient to\n                    get an outbreak under control and get Rt under 1.\n                </p>\n                <p>\n                    We can infer a target vaccination level given the current Rt, which changes as the\n                    mitigation level changes. For instance, kids returning to school reduces social\n                    distancing. As mitigation decreases, Rt increases, and therefore the target vaccination\n                    level increases.\n                </p>\n                <p>\n                    Target vaccination levels, indicated with patterned lines below, are determined through\n                    herd immunity calculations. The calculation takes into account infection efficacy of vaccines,\n                    combined with the reduced probability of vaccinated people passing on the virus to others.\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <Vaccination data={data}/>\n                </div>\n                <p>\n                    As a serious disease increases in prevalence, hospitalizations increase as well.\n                    Ultimately, deaths increase too, both from the disease, and from hospitals unable to\n                    give routine service due to overcrowding. So we also track ICU capacity. Anything above\n                    85% utilization is considered critical:\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <Icu data={data} message={message}/>\n                </div>\n                <p>\n                    I wanted to come up with a personal indicator that uses each of these signals to\n                    help to determine what level of caution I should act with.\n                </p>\n                <p>\n                    One thing that became clear is that the level of personal risk is different\n                    than the level of community risk. Being vaccinated, my risk of serious\n                    disease is lower than my risk of passing the virus to others, since viruses\n                    have lower efficacy against infection than they do against hospitalization.\n                </p>\n                <p>\n                    For that reason, when the disease is spreading or has high prevalence, I\n                    don't want to contribute to spread. So I'm choosing to limit personal contact\n                    - indoors, maskless gatherings with vaccinated people - when any of the\n                    above indicators are above the limit.\n                </p>\n                <p>The signal is pretty conservative. Others may be comfortable being more social\n                    if there is moderate ({'>'} 10) or even substantial ({'>'} 50) prevalence. But generally,\n                    if Rt is greater than 1, it means the outbreak will get worse over time, so it's\n                    a good signal to be in favor of greater temporary mitigation, until the outbreak\n                    is under control again.\n                </p>\n                <p>\n                    This signal can be drawn visually.\n                </p>\n                <p>\n                    Washington County ({washingtonData.lastUpdatedDate}):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['washington']}/>\n                </div>\n                <p>\n                    Multnomah County ({multnomahData.lastUpdatedDate}):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['multnomah']}/>\n                </div>\n                <p>\n                    Here are some badges for other counties of family:\n                </p>\n                <p>\n                    Clark County (Las Vegas, NV) ({clarkData.lastUpdatedDate}):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['clark']}/>\n                </div>\n                <p>\n                    Honolulu County ({honoluluData.lastUpdatedDate}):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['honolulu']}/>\n                </div>\n                <p>\n                    Larimer County (Fort Collins, CO) ({larimerData.lastUpdatedDate}):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['larimer']}/>\n                </div>\n                <p>\n                    Denver County ({denverData.lastUpdatedDate}):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['denver']}/>\n                </div>\n                <p>\n                    El Paso County (Colorado Springs, CO) ({elpasoData.lastUpdatedDate}):\n                </p>\n                <div style={{width: 700, height: 300}}>\n                    <MyResponsiveRadar data={badgeData} keys={['elpaso']}/>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}